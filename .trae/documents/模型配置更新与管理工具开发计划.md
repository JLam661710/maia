# 模型配置更新与管理工具开发计划

我将分三步完成您的需求：首先升级底层 API 客户端以支持火山引擎的高级参数，然后更新 Agent 代码以应用新配置，最后开发一个独立的 Streamlit 管理面板供您方便地调整参数。

## 1. 升级底层架构
### 优化 `utils/llm_client.py`
- 修改 `get_completion` 方法，增加 `**kwargs` 支持。
- 允许通过 `kwargs` 传递 `reasoning_effort` 等非标准参数到 OpenAI 客户端。

## 2. 更新 Agent 逻辑
### 修改 `Interviewer` 和 `Summary` Agent
- 在 `__init__` 中增加读取 `REASONING_EFFORT` 环境变量的逻辑。
- 在调用 `llm_client.get_completion` 时，动态传入配置的 `reasoning_effort` 参数。
- 涉及文件：
  - `agents/interviewer.py`
  - `agents/summary.py`

## 3. 开发可视化配置工具
### 创建 `tools/model_config_dashboard.py`
这是一个独立的 Streamlit 应用，不会暴露给最终用户。
- **功能特性**：
  - **读取/保存配置**：直接解析和修改 `.env` 文件。
  - **API 设置**：可视化编辑 API Key 和 Base URL。
  - **模型映射**：为每个 Agent (Interviewer, Analyst, Architect, Summary) 提供独立的模型选择下拉框。
  - **参数微调**：专门为支持的 Agent 提供 `reasoning_effort` 选择器 (minimal/low/medium/high)。
- **使用方式**：
  - 运行命令：`streamlit run tools/model_config_dashboard.py`

## 4. 应用默认配置
### 更新 `.env` 文件
- 将 Base URL 设置为火山引擎地址：`https://ark.cn-beijing.volces.com/api/v3`
- 将所有 Agent 模型默认设为 `doubao-seed-1-8-251228`。
- 设置 Interviewer 和 Summary 的 `REASONING_EFFORT` 为 `minimal`。
