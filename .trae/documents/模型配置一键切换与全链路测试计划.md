# 模型配置一键切换与全链路测试计划 (修正版)

根据您的要求，针对 APIYi 接口配置，我将确保 **完全移除** Reasoning Effort 相关参数的影响。

## 1. 升级配置管理面板 (`tools/model_config_dashboard.py`)
添加“快速预设 (Quick Presets)”功能：

### 预设 A: Doubao (默认/当前)
- **API**: 火山引擎
- **参数**: 包含完整的 `REASONING_EFFORT` 配置 (Minimal/Medium/High)。

### 预设 B: APIYi (旧版)
- **API**: APIYi (`https://api.apiyi.com/v1`)
- **Models**: Claude 3.7 / Gemini 3 Pro / Gemini 2.5 Flash
- **特殊处理**: **强制将所有 Reasoning Effort 参数设为 `None`**。
  - 在 `.env` 中，这些变量将被设为 `None` 或空值。
  - 代码逻辑中，当值为 `None` 时，`llm_client` **绝对不会** 向 API 发送 `reasoning_effort` 字段，确保兼容性。

## 2. 全链路协同测试 (基于 Doubao 1.8)
在确保当前环境为 **Doubao** 配置的前提下，执行 `tests/test_agents_workflow.py`：

1.  **Interviewer**: 测试 `minimal` 思考模式下的对话响应。
2.  **Summary**: 测试 `minimal` 模式下的摘要生成。
3.  **Analyst**: 测试 `medium` 思考模式下的 JSON 状态分析与更新。
4.  **Architect**: 测试 `high` 思考模式下的长文档生成。

测试脚本将验证每个 Agent 是否成功调用 API 并返回预期格式的结果。
